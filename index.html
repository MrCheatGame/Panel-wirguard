<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WireGuard Ultra-Low Ping âš¡</title>
    <style>
        body {
            background-image: url('https://i.postimg.cc/FKkz8NLn/Picsart-25-05-03-22-14-24-088.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 80px;
            margin: 0;
            height: 100vh;
            font-family: Arial, sans-serif;
        }
        .container {
            background: rgba(0, 0, 0, 0.85);
            padding: 20px;
            border-radius: 10px;
            width: 450px;
            margin: auto;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }
        button {
            padding: 15px;
            background-color: #00bcd4;
            color: black;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease-in-out;
            width: 100%;
            margin-top: 10px;
        }
        button:hover {
            background-color: #0097a7;
            transform: scale(1.05);
        }
        .server-list {
            margin-top: 20px;
            text-align: left;
            padding: 10px;
            background: #111;
            color: white;
            border-radius: 5px;
            max-height: 250px;
            overflow-y: auto;
        }
        .server-item {
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        .server-item:hover {
            background: #00bcd4;
            color: black;
        }
        .ping-green { color: #00ff00; font-weight: bold; }
        .ping-yellow { color: #ffff00; font-weight: bold; }
        .ping-red { color: #ff0000; font-weight: bold; }
        #main-content, #subscription-form, #vip-panel, #vip-code-form, #dns-form { display: none; }
        #login-form { display: block; }
        input[type="text"], input[type="password"], input[type="number"] {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            border: none;
            box-sizing: border-box;
        }
        p.error { color: red; margin-top: 10px; display: none; }
        #login-form, #main-content, #subscription-form, #vip-panel, #vip-code-form, #dns-form {
            color: white;
        }
        #login-form h2, #login-form p, #login-form button,
        #main-content h2, #main-content p, #main-content button,
        #subscription-form h2, #subscription-form p, #subscription-form button,
        #vip-panel h2, #vip-panel p, #vip-panel button,
        #vip-code-form h2, #vip-code-form p, #vip-code-form button,
        #dns-form h2, #dns-form p, #dns-form button,
        #login-form input::placeholder, #subscription-form input::placeholder,
        #vip-code-form input::placeholder, #dns-form input::placeholder {
            color: white;
        }
        #login-form input, #subscription-form input, #vip-panel input, #vip-code-form input, #dns-form input {
            color: white;
            background: rgba(255, 255, 255, 0.1);
        }
        @media only screen and (max-width: 768px) {
            body { padding: 20px; background-size: cover; }
            .container { width: 100%; padding: 15px; }
            h2 { font-size: 1.5em; }
            button { padding: 12px; font-size: 1em; }
            .server-list { max-height: 200px; padding: 8px; }
            .server-item { font-size: 0.9em; }
        }
    </style>
</head>
<body>
    <!-- ÙØ±Ù… ÙˆØ±ÙˆØ¯ -->
    <div id="login-form" class="container">
        <h2>ğŸ“±ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„</h2>
        <input type="text" id="username" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
        <input type="password" id="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
        <button onclick="login()">ğŸ—¿ÙˆØ±ÙˆØ¯</button>
        <p id="login-error" class="error">ğŸš§Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª.</p>
    </div>

    <!-- ÙØ±Ù… Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ -->
    <div id="subscription-form" class="container">
        <h2>ğŸŒŸ Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ</h2>
        <p>Ø¢ÛŒØ§ Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ</p>
        <button onclick="showCodeInput()">âœ”ï¸Ø¨Ù„Ù‡</button>
        <button onclick="skipSubscription()">âœ–ï¸Ø®ÛŒØ±</button>
        <div id="code-input" style="display: none;">
            <input type="text" id="subscription-code" placeholder="Ú©Ø¯ Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ">
            <button onclick="verifyCode()">ØªØ£ÛŒÛŒØ¯ Ú©Ø¯</button>
            <p id="code-error" class="error">ğŸš« Ú©Ø¯ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.</p>
        </div>
    </div>

    <!-- ÙØ±Ù… Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾Ù†Ù„ VIP -->
    <div id="vip-code-form" class="container">
        <h2>ğŸ’ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ </h2>
        <p>Ø¢ÛŒØ§ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ Ø¯Ø§Ø±ÛŒØ¯ØŸ</p>
        <button onclick="showVipCodeInput()">âœ”ï¸Ø¨Ù„Ù‡</button>
        <button onclick="backToMain()">âœ–ï¸Ø®ÛŒØ±</button>
        <div id="vip-code-input" style="display: none;">
            <input type="text" id="vip-code" placeholder="Ú©Ø¯ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡">
            <button onclick="verifyVipCode()">ØªØ£ÛŒÛŒØ¯ Ú©Ø¯</button>
            <p id="vip-code-error" class="error">ğŸš« Ú©Ø¯ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.</p>
        </div>
    </div>

    <!-- ÙØ±Ù… Ø³ÙˆØ§Ù„ DNS -->
    <div id="dns-form" class="container">
        <h2>ğŸŒ ØªÙ†Ø¸ÛŒÙ… DNS</h2>
        <p>Ø¢ÛŒØ§ Ø¯ÛŒ Ø§Ù† Ø§Ø³ Ø®Ø§ØµÛŒ Ù…Ø¯ Ù†Ø¸Ø± Ø¯Ø§Ø±ÛŒØ¯ØŸ</p>
        <button onclick="useCustomDns()">âœ”ï¸Ø¨Ù„Ù‡</button>
        <button onclick="useDefaultDns()">âœ–ï¸Ø®ÛŒØ±</button>
        <div id="dns-input" style="display: none;">
            <input type="text" id="custom-dns" placeholder="DNS Ø¯Ù„Ø®ÙˆØ§Ù‡ (Ù…Ø«Ø§Ù„: 8.8.8.8)">
            <button onclick="confirmCustomDns()">ØªØ£ÛŒÛŒØ¯ DNS</button>
            <p id="dns-error" class="error">ğŸš« DNS Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.</p>
        </div>
    </div>

    <!-- Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ -->
    <div id="main-content" class="container">
        <h2>âš¡ WireGuard Low Ping âš¡</h2>
        <h2>ğŸ˜ˆMr_cheat_gameğŸ˜ˆ</h2>
        <button onclick="testServers()">ğŸ” Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø±ÙˆØ±Ù‡Ø§</button>
        <button onclick="checkSubscriptionStatus()">ğŸ“… ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ</button>
        <button id="vip-panel-btn">ğŸ’ Ù¾Ù†Ù„ VIP</button>
        <div id="serverList" class="server-list"></div>
        <button id="generateConfig" style="display: none;" onclick="generateConfig()">ğŸ¯ Ø³Ø§Ø®Øª Ú©Ø§Ù†ÙÛŒÚ¯</button>
    </div>

    <!-- Ù¾Ù†Ù„ VIP -->
    <div id="vip-panel" class="container" style="display: none;">
        <h2>âš¡ WireGuard VIP Panel âš¡</h2>
        <h2>ğŸ˜ˆMr_cheat_gameğŸ˜ˆ</h2>
        <button onclick="testVipServers()">ğŸ” Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø±ÙˆØ±Ù‡Ø§</button>
        <button onclick="checkVipSubscriptionStatus()">ğŸ“… ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡</button>
        <div id="vip-serverList" class="server-list"></div>
        <div id="vip-config-options">
            <h3>âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ø§Ù†ÙÛŒÚ¯</h3>
            <label for="volume">ğŸ’¾Ø­Ø¬Ù… (GB):</label>
            <input type="number" id="volume" min="1" value="10"><br>
            <label for="expiration">â³Ø²Ù…Ø§Ù† Ø§Ù†Ù‚Ø¶Ø§ (Ø±ÙˆØ²):</label>
            <input type="number" id="expiration" min="1" value="30"><br>
            <label for="users">ğŸ‘¤ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†:</label>
            <input type="number" id="users" min="1" value="1"><br>
        </div>
        <button id="generateVipConfig" style="display: none;" onclick="startVipConfig()">ğŸ¯ Ø³Ø§Ø®Øª Ú©Ø§Ù†ÙÛŒÚ¯ VIP</button>
    </div>

    <script>
        // Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ±ÙˆØ¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶
        const defaultUsername = "admin";
        const defaultPassword = "Mr_cheat:)";

        // Ú©Ø¯Ù‡Ø§ÛŒ Ù…Ø¹ØªØ¨Ø± Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ
        const validSubscriptionCodes = [
            { code: "GOLD3", duration: 3, unit: "day" },
            { code: "GOLD7RM", duration: 7, unit: "day" },
            { code: "GOLD30KR", duration: 30, unit: "day" },
            { code: "GOLD1HWR", duration: 1, unit: "hour" }
        ];

        // Ú©Ø¯Ù‡Ø§ÛŒ Ù…Ø¹ØªØ¨Ø± Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾Ù†Ù„ VIP
        const validVipCodes = [
            { code: "MR_CHEAT_VIP_PANEL30D", duration: 30, unit: "day" },
            { code: "MR_CHEAT_VIP_PANEL15DT", duration: 15, unit: "day" },
            { code: "MR_CHEAT_VIP_PANEL7DP", duration: 7, unit: "day" }
        ];

        // Ù„ÛŒØ³Øª Ø³Ø±ÙˆØ±Ù‡Ø§
        const servers = [
            { location: "ğŸ‡ºğŸ‡¸ Ø¢Ù…Ø±ÛŒÚ©Ø§", dns: ["162.243.184.122", "204.106.240.53", "67.230.189.83"] },
            { location: "ğŸ‡§ğŸ‡· Ø¨Ø±Ø²ÛŒÙ„", dns: ["187.102.222.46", "177.103.231.245", "200.150.97.226"] },
            { location: "ğŸ‡¯ğŸ‡µ Ú˜Ø§Ù¾Ù†", dns: ["203.141.131.66", "220.110.210.114", "150.31.249.103"] },
            { location: "ğŸ‡¨ğŸ‡¦ Ú©Ø§Ù†Ø§Ø¯Ø§", dns: ["96.45.46.46", "99.240.73.140", "99.79.50.252"] },
            { location: "ğŸ‡«ğŸ‡· ÙØ±Ø§Ù†Ø³Ù‡", dns: ["195.101.69.86", "212.234.30.110", "90.102.32.177"] },
            { location: "ğŸ‡©ğŸ‡ª Ø¢Ù„Ù…Ø§Ù†", dns: ["132.226.206.7", "132.226.205.6", "54.93.169.181"] },
            { location: "ğŸ‡¹ğŸ‡· ØªØ±Ú©ÛŒÙ‡", dns: ["188.132.203.3", "78.186.191.171", "85.105.81.252"] },
            { location: "ğŸ’ VIP", dns: ["10.202.10.10", "78.157.42.100"] }
        ];

        // Ù…ØªØºÛŒØ± Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ DNS Ø§Ù†ØªØ®Ø§Ø¨â€ŒØ´Ø¯Ù‡
        let customDns = null;

        // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ
        function isGoldenSubscriptionValid() {
            const activationDate = localStorage.getItem('subscriptionActivationDate');
            const duration = parseInt(localStorage.getItem('subscriptionDuration') || '0');
            const unit = localStorage.getItem('subscriptionUnit') || 'day';

            if (!activationDate || !duration) {
                return false;
            }

            const activation = new Date(activationDate);
            const expiration = new Date(activation);

            if (unit === "day") {
                expiration.setDate(activation.getDate() + duration);
            } else if (unit === "hour") {
                expiration.setHours(activation.getHours() + duration);
            }

            const now = new Date();
            return now <= expiration;
        }

        // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ VIP
        function isVipSubscriptionValid() {
            const vipActivationDate = localStorage.getItem('vipActivationDate');
            const vipDuration = parseInt(localStorage.getItem('vipDuration') || '0');
            const vipUnit = localStorage.getItem('vipUnit') || 'day';

            if (!vipActivationDate || !vipDuration) {
                return false;
            }

            const activation = new Date(vipActivationDate);
            const expiration = new Date(activation);

            if (vipUnit === "day") {
                expiration.setDate(activation.getDate() + vipDuration);
            } else if (vipUnit === "hour") {
                expiration.setHours(activation.getHours() + vipDuration);
            }

            const now = new Date();
            return now <= expiration;
        }

        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ
        function getRemainingSubscriptionTime() {
            const activationDate = localStorage.getItem('subscriptionActivationDate');
            const duration = parseInt(localStorage.getItem('subscriptionDuration') || '0');
            const unit = localStorage.getItem('subscriptionUnit') || 'day';

            if (!activationDate || !duration) {
                return null;
            }

            const activation = new Date(activationDate);
            const expiration = new Date(activation);

            if (unit === "day") {
                expiration.setDate(activation.getDate() + duration);
            } else if (unit === "hour") {
                expiration.setHours(activation.getHours() + duration);
            }

            const now = new Date();

            if (now > expiration) {
                return 0;
            }

            const remainingTime = expiration - now;
            if (unit === "day") {
                return Math.ceil(remainingTime / (1000 * 60 * 60 * 24));
            } else if (unit === "hour") {
                return Math.ceil(remainingTime / (1000 * 60 * 60));
            }
        }

        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡ Ø§Ø´ØªØ±Ø§Ú© VIP
        function getRemainingVipSubscriptionTime() {
            const vipActivationDate = localStorage.getItem('vipActivationDate');
            const vipDuration = parseInt(localStorage.getItem('vipDuration') || '0');
            const vipUnit = localStorage.getItem('vipUnit') || 'day';

            if (!vipActivationDate || !vipDuration) {
                return null;
            }

            const activation = new Date(vipActivationDate);
            const expiration = new Date(activation);

            if (vipUnit === "day") {
                expiration.setDate(activation.getDate() + vipDuration);
            } else if (vipUnit === "hour") {
                expiration.setHours(activation.getHours() + vipDuration);
            }

            const now = new Date();

            if (now > expiration) {
                return 0;
            }

            const remainingTime = expiration - now;
            if (vipUnit === "day") {
                return Math.ceil(remainingTime / (1000 * 60 * 60 * 24));
            } else if (vipUnit === "hour") {
                return Math.ceil(remainingTime / (1000 * 60 * 60));
            }
        }

        // Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ
        function checkSubscriptionStatus() {
            const remainingTime = getRemainingSubscriptionTime();
            const unit = localStorage.getItem('subscriptionUnit') || 'day';

            if (remainingTime === null || remainingTime === 0) {
                alert("ğŸš« Ø´Ù…Ø§ Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ ÙØ¹Ø§Ù„ Ù†Ø¯Ø§Ø±ÛŒØ¯.");
            } else {
                const unitText = unit === "day" ? "Ø±ÙˆØ²" : "Ø³Ø§Ø¹Øª";
                alert(`âœ… Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ Ø´Ù…Ø§ ${remainingTime} ${unitText} Ø¯ÛŒÚ¯Ø± Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.`);
            }
        }

        // Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú© VIP
        function checkVipSubscriptionStatus() {
            const remainingTime = getRemainingVipSubscriptionTime();
            const unit = localStorage.getItem('vipUnit') || 'day';

            if (remainingTime === null || remainingTime === 0) {
                alert("ğŸš« Ø´Ù…Ø§ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ ÙØ¹Ø§Ù„ Ù†Ø¯Ø§Ø±ÛŒØ¯.");
            } else {
                const unitText = unit === "day" ? "Ø±ÙˆØ²" : "Ø³Ø§Ø¹Øª";
                alert(`âœ… Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ Ø´Ù…Ø§ ${remainingTime} ${unitText} Ø¯ÛŒÚ¯Ø± Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.`);
            }
        }

        // ØªØ§Ø¨Ø¹ ÙˆØ±ÙˆØ¯
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const loginError = document.getElementById('login-error');

            if (username === defaultUsername && password === defaultPassword) {
                document.getElementById('login-form').style.display = 'none';
                loginError.style.display = 'none';
                if (isGoldenSubscriptionValid()) {
                    document.getElementById('main-content').style.display = 'block';
                } else {
                    localStorage.removeItem('subscriptionActivationDate');
                    localStorage.removeItem('subscriptionDuration');
                    localStorage.removeItem('subscriptionUnit');
                    document.getElementById('subscription-form').style.display = 'block';
                }
            } else {
                loginError.style.display = 'block';
            }
        }

        // Ù†Ù…Ø§ÛŒØ´ ÙÛŒÙ„Ø¯ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ú©Ø¯ Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ
        function showCodeInput() {
            document.getElementById('code-input').style.display = 'block';
        }

        // Ù†Ù…Ø§ÛŒØ´ ÙÛŒÙ„Ø¯ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ú©Ø¯ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡
        function showVipCodeInput() {
            document.getElementById('vip-code-input').style.display = 'block';
        }

        // Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ† Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ
        function skipSubscription() {
            document.getElementById('subscription-form').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
        }

        // Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ
        function backToMain() {
            document.getElementById('vip-code-form').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
        }

        // Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø¯ Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ
        function verifyCode() {
            const code = document.getElementById('subscription-code').value.trim();
            const codeError = document.getElementById('code-error');
            const subscription = validSubscriptionCodes.find(sub => sub.code === code);

            if (subscription) {
                const now = new Date();
                localStorage.setItem('subscriptionActivationDate', now.toISOString());
                localStorage.setItem('subscriptionDuration', subscription.duration);
                localStorage.setItem('subscriptionUnit', subscription.unit);
                document.getElementById('subscription-form').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
                codeError.style.display = 'none';
                const unitText = subscription.unit === "day" ? "Ø±ÙˆØ²Ù‡" : "Ø³Ø§Ø¹ØªÙ‡";
                alert(`âœ… Ø§Ø´ØªØ±Ø§Ú© Ø·Ù„Ø§ÛŒÛŒ ${subscription.duration} ${unitText} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙØ¹Ø§Ù„ Ø´Ø¯!`);
            } else {
                codeError.style.display = 'block';
            }
        }

        // Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø¯ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ VIP
        function verifyVipCode() {
            const code = document.getElementById('vip-code').value.trim();
            const codeError = document.getElementById('vip-code-error');
            const vipSubscription = validVipCodes.find(sub => sub.code === code);

            if (vipSubscription) {
                const now = new Date();
                localStorage.setItem('vipActivationDate', now.toISOString());
                localStorage.setItem('vipDuration', vipSubscription.duration);
                localStorage.setItem('vipUnit', vipSubscription.unit);
                document.getElementById('vip-code-form').style.display = 'none';
                document.getElementById('vip-panel').style.display = 'block';
                codeError.style.display = 'none';
                testVipServers();
                const unitText = vipSubscription.unit === "day" ? "Ø±ÙˆØ²Ù‡" : "Ø³Ø§Ø¹ØªÙ‡";
                alert(`âœ… Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ ${vipSubscription.duration} ${unitText} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙØ¹Ø§Ù„ Ø´Ø¯!`);
            } else {
                codeError.style.display = 'block';
            }
        }

        // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… DNS
        function startVipConfig() {
            if (!window.selectedServer) {
                alert("âŒ Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø³Ø±ÙˆØ± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯!");
                return;
            }
            document.getElementById('vip-panel').style.display = 'none';
            document.getElementById('dns-form').style.display = 'block';
            document.getElementById('custom-dns').value = '';
            document.getElementById('dns-error').style.display = 'none';
            document.getElementById('dns-input').style.display = 'none';
        }

        // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² DNS Ù¾ÛŒØ´â€ŒÙØ±Ø¶
        function useDefaultDns() {
            customDns = window.selectedServer.dns[Math.floor(Math.random() * window.selectedServer.dns.length)];
            document.getElementById('dns-form').style.display = 'none';
            document.getElementById('vip-panel').style.display = 'block';
            generateVipConfig();
        }

        // Ù†Ù…Ø§ÛŒØ´ ÙÛŒÙ„Ø¯ DNS Ø¯Ù„Ø®ÙˆØ§Ù‡
        function useCustomDns() {
            document.getElementById('dns-input').style.display = 'block';
        }

        // ØªØ£ÛŒÛŒØ¯ DNS Ø¯Ù„Ø®ÙˆØ§Ù‡
        function confirmCustomDns() {
            const dns = document.getElementById('custom-dns').value.trim();
            const dnsError = document.getElementById('dns-error');

            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ DNS (ÙÙ‚Ø· Ø¨Ø±Ø±Ø³ÛŒ Ø®Ø§Ù„ÛŒ Ù†Ø¨ÙˆØ¯Ù†)
            if (dns) {
                customDns = dns;
                document.getElementById('dns-form').style.display = 'none';
                document.getElementById('vip-panel').style.display = 'block';
                dnsError.style.display = 'none';
                generateVipConfig();
            } else {
                dnsError.style.display = 'block';
            }
        }

        // ØªÙˆÙ„ÛŒØ¯ IP ØªØµØ§Ø¯ÙÛŒ
        function generateRandomIP() {
            return {
                ip: `10.${Math.floor(Math.random() * 256)}.${Math.floor(Math.random() * 256)}.${Math.floor(Math.random() * 256)}`,
                ipv6: `b4a7::${Math.floor(Math.random() * 10000)}:${Math.floor(Math.random() * 10000)}`
            };
        }

        // ØªÙˆÙ„ÛŒØ¯ Ù¾ÛŒÙ†Ú¯ ØªØµØ§Ø¯ÙÛŒ
        function generateRandomPing() {
            return Math.floor(Math.random() * (15 - 5 + 1)) + 5;
        }

        // ØªÙˆÙ„ÛŒØ¯ Ø³Ø±Ø¹Øª ØªØµØ§Ø¯ÙÛŒ
        function generateRandomSpeed() {
            return {
                downloadSpeed: Math.floor(Math.random() * (2000 - 1000 + 1)) + 1000,
                uploadSpeed: Math.floor(Math.random() * (1200 - 600 + 1)) + 600
            };
        }

        // ØªØ³Øª Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø³Ø±ÙˆØ±Ù‡Ø§
        function testServers() {
            const serverList = document.getElementById('serverList');
            const generateConfigBtn = document.getElementById('generateConfig');
            serverList.innerHTML = '';

            servers.forEach((server) => {
                const { ip, ipv6 } = generateRandomIP();
                const ping = generateRandomPing();
                const { downloadSpeed, uploadSpeed } = generateRandomSpeed();
                
                const serverItem = document.createElement('div');
                serverItem.classList.add('server-item');
                const dns = server.dns[Math.floor(Math.random() * server.dns.length)];
                serverItem.innerHTML = `
                    ${server.location} - ${ip} | ${ipv6} <br>
                    <span class="${ping <= 10 ? 'ping-green' : ping <= 12 ? 'ping-yellow' : 'ping-red'}">
                        Ù¾ÛŒÙ†Ú¯: ${ping} ms
                    </span> <br>
                    ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯: ${downloadSpeed} Mbps | ğŸ“¤ Ø¢Ù¾Ù„ÙˆØ¯: ${uploadSpeed} Mbps <br>
                    ğŸŒ DNS: ${dns}
                `;
                serverItem.onclick = () => selectServer({ ...server, ip, ipv6, ping, downloadSpeed, uploadSpeed, port: 51820, dns });
                serverList.appendChild(serverItem);
            });

            generateConfigBtn.style.display = 'block';
        }

        // ØªØ³Øª Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø³Ø±ÙˆØ±Ù‡Ø§ Ø¯Ø± Ù¾Ù†Ù„ VIP
        function testVipServers() {
            const serverList = document.getElementById('vip-serverList');
            const generateConfigBtn = document.getElementById('generateVipConfig');
            serverList.innerHTML = '';

            servers.forEach((server) => {
                const { ip, ipv6 } = generateRandomIP();
                const ping = generateRandomPing();
                const { downloadSpeed, uploadSpeed } = generateRandomSpeed();
                
                const serverItem = document.createElement('div');
                serverItem.classList.add('server-item');
                const dns = server.dns[Math.floor(Math.random() * server.dns.length)];
                serverItem.innerHTML = `
                    ${server.location} - ${ip} | ${ipv6} <br>
                    <span class="${ping <= 10 ? 'ping-green' : ping <= 12 ? 'ping-yellow' : 'ping-red'}">
                        Ù¾ÛŒÙ†Ú¯: ${ping} ms
                    </span> <br>
                    ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯: ${downloadSpeed} Mbps | ğŸ“¤ Ø¢Ù¾Ù„ÙˆØ¯: ${uploadSpeed} Mbps <br>
                    ğŸŒ DNS: ${dns}
                `;
                serverItem.onclick = () => selectServer({ ...server, ip, ipv6, ping, downloadSpeed, uploadSpeed, port: 51820, dns });
                serverList.appendChild(serverItem);
            });

            generateConfigBtn.style.display = 'block';
        }

        // Ø§Ù†ØªØ®Ø§Ø¨ Ø³Ø±ÙˆØ±
        function selectServer(server) {
            const serverItems = document.querySelectorAll('.server-item');
            serverItems.forEach(item => item.style.backgroundColor = 'transparent');
            const selectedItem = Array.from(serverItems).find(item => item.textContent.includes(server.location));
            if (selectedItem) {
                selectedItem.style.backgroundColor = '#00bcd4';
                window.selectedServer = server;
            }
        }

        // Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø§Ù†Ù„ÙˆØ¯
        const DOWNLOAD_LIMIT = 1;

        // Ø¯Ø±ÛŒØ§ÙØª ØªØ§Ø±ÛŒØ® ÙØ¹Ù„ÛŒ
        function getCurrentDate() {
            const now = new Date();
            return now.toISOString().split('T')[0];
        }

        // Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ú©Ø§Ù† Ø¯Ø§Ù†Ù„ÙˆØ¯
        function canDownload() {
            if (isGoldenSubscriptionValid()) {
                return true;
            }

            const currentDate = getCurrentDate();
            const lastDownloadDate = localStorage.getItem('lastDownloadDate');
            let downloadCount = parseInt(localStorage.getItem('downloadCount') || '0');

            if (lastDownloadDate !== currentDate) {
                downloadCount = 0;
                localStorage.setItem('lastDownloadDate', currentDate);
                localStorage.setItem('downloadCount', '0');
            }

            return downloadCount < DOWNLOAD_LIMIT;
        }

        // Ø§ÙØ²Ø§ÛŒØ´ ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø§Ù†Ù„ÙˆØ¯Ù‡Ø§
        function incrementDownloadCount() {
            if (isGoldenSubscriptionValid()) {
                return;
            }

            let downloadCount = parseInt(localStorage.getItem('downloadCount') || '0');
            downloadCount++;
            localStorage.setItem('downloadCount', downloadCount.toString());
        }

        // ØªÙˆÙ„ÛŒØ¯ Ú©Ø§Ù†ÙÛŒÚ¯ Ø¨Ø§ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø§Ù†Ù„ÙˆØ¯
        function generateConfig() {
            if (!window.selectedServer) {
                alert("âŒ Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø³Ø±ÙˆØ± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯!");
                return;
            }

            if (!canDownload()) {
                alert("ğŸš« Ø´Ù…Ø§ Ø¨Ù‡ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡ (1 Ø¨Ø§Ø±) Ø±Ø³ÛŒØ¯Ù‡â€ŒØ§ÛŒØ¯. Ù„Ø·ÙØ§Ù‹ ÙØ±Ø¯Ø§ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.");
                return;
            }

            const { ip, ipv6, dns } = window.selectedServer;
            const privateKey = "cCqX2Xy+d7ePzq9zNRg2hLq7jzYrwGyavhO4Y3HVtVw=";
            const publicKey = "W0tCFiYQxMKy9lDtXrLDc/ZPZmpU6xwZJwYt2tkMjCA=";
            const mtu = Math.random() > 0.5 ? 1280 : 1360;

            const config = `[Interface]
PrivateKey = ${privateKey}
Address = ${ip}/32, ${ipv6}/32
DNS = ${dns}
MTU = ${mtu}

[Peer]
PublicKey = ${publicKey}
Endpoint = ${ip}:51820
PersistentKeepalive = 5`;

            let fileName = prompt("ğŸ“‚ Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ú©Ø§Ù†ÙÛŒÚ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", "Mr_cheat_game");
            if (!fileName || fileName.trim() === "") {
                fileName = generateRandomName();
            }

            const element = document.createElement('a');
            const file = new Blob([config], { type: 'application/octet-batch-stream' });
            element.href = URL.createObjectURL(file);
            element.download = `${fileName}.conf`;
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);

            incrementDownloadCount();
        }

        // ØªÙˆÙ„ÛŒØ¯ Ú©Ø§Ù†ÙÛŒÚ¯ VIP Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø¶Ø§ÙÛŒ
        function generateVipConfig() {
            const volume = document.getElementById('volume').value;
            const expiration = document.getElementById('expiration').value;
            const users = document.getElementById('users').value;

            const { ip, ipv6 } = window.selectedServer;
            const privateKey = "cCqX2Xy+d7ePzq9zNRg2hLq7jzYrwGyavhO4Y3HVtVw=";
            const publicKey = "W0tCFiYQxMKy9lDtXrLDc/ZPZmpU6xwZJwYt2tkMjCA=";
            const mtu = Math.random() > 0.5 ? 1280 : 1360;

            const config = `# Ø­Ø¬Ù…: ${volume} GB
# Ø²Ù…Ø§Ù† Ø§Ù†Ù‚Ø¶Ø§: ${expiration} Ø±ÙˆØ²
# ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: ${users}

[Interface]
PrivateKey = ${privateKey}
Address = ${ip}/32, ${ipv6}/32
DNS = ${customDns}
MTU = ${mtu}

[Peer]
PublicKey = ${publicKey}
Endpoint = ${ip}:51820
PersistentKeepalive = 5`;

            let fileName = prompt("ğŸ“‚ Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ú©Ø§Ù†ÙÛŒÚ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", "Mr_cheat_game_vip");
            if (!fileName || fileName.trim() === "") {
                fileName = generateRandomName();
            }

            const element = document.createElement('a');
            const file = new Blob([config], { type: 'application/octet-batch-stream' });
            element.href = URL.createObjectURL(file);
            element.download = `${fileName}.conf`;
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);

            // Ø±ÛŒØ³Øª Ú©Ø±Ø¯Ù† DNS Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯ Ø¨Ø¹Ø¯ÛŒ
            customDns = null;
        }

        // ØªÙˆÙ„ÛŒØ¯ Ù†Ø§Ù… ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒÙ„
        function generateRandomName() {
            const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
            let name = "";
            const length = Math.floor(Math.random() * (5 - 3 + 1)) + 3;
            for (let i = 0; i < length; i++) {
                name += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return name;
        }

        // Ù†Ù…Ø§ÛŒØ´ ÙØ±Ù… Ú©Ø¯ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ù¾Ù†Ù„ VIP
        document.getElementById('vip-panel-btn').onclick = function() {
            if (isVipSubscriptionValid()) {
                document.getElementById('main-content').style.display = 'none';
                document.getElementById('vip-panel').style.display = 'block';
                testVipServers();
            } else {
                localStorage.removeItem('vipActivationDate');
                localStorage.removeItem('vipDuration');
                localStorage.removeItem('vipUnit');
                document.getElementById('main-content').style.display = 'none';
                document.getElementById('vip-code-form').style.display = 'block';
                document.getElementById('vip-code').value = '';
                document.getElementById('vip-code-error').style.display = 'none';
                document.getElementById('vip-code-input').style.display = 'none';
            }
        };
    </script>
</body>
</html>